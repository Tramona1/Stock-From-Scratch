2025-03-07 23:01:16,885 - dark_pool_fetcher - INFO - Successfully initialized Supabase client
2025-03-07 23:01:16,894 - options_flow_fetcher - INFO - Successfully initialized Supabase client
2025-03-07 23:01:16,902 - fda_calendar_fetcher - INFO - Successfully initialized Supabase client
2025-03-07 23:01:16,910 - political_trades_fetcher - INFO - Successfully initialized Supabase client
2025-03-07 23:01:17,137 - economic_reports_fetcher - INFO - Successfully initialized Supabase client
2025-03-07 23:01:17,137 - economic_reports_fetcher - INFO - Successfully initialized Google Gemini API
2025-03-07 23:01:17,143 - stock_info_fetcher - INFO - Successfully initialized Supabase client
2025-03-07 23:01:17,143 - test_fetchers - INFO - Successfully imported all fetcher modules
2025-03-07 23:01:17,143 - test_fetchers - INFO - Starting to test all new fetchers
2025-03-07 23:01:17,143 - test_fetchers - INFO - Running test for dark_pool
2025-03-07 23:01:17,143 - test_fetchers - INFO - === Testing Dark Pool Data Fetcher ===
2025-03-07 23:01:17,143 - test_fetchers - INFO - Testing Dark Pool fetcher with tickers: ['AAPL', 'MSFT', 'TSLA']
2025-03-07 23:01:17,143 - dark_pool_fetcher - INFO - Running dark pool data fetcher (watchlist_only=False, days=30, limit=5)
2025-03-07 23:01:17,143 - dark_pool_fetcher - INFO - Processing 3 provided tickers
2025-03-07 23:01:17,143 - dark_pool_fetcher - INFO - Fetching dark pool data for AAPL
2025-03-07 23:01:17,143 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/darkpool/AAPL with params {'limit': 5}
2025-03-07 23:01:17,319 - dark_pool_fetcher - INFO - Successfully fetched 5 dark pool trades for AAPL
2025-03-07 23:01:17,320 - dark_pool_fetcher - INFO - Analyzed dark pool data for AAPL
2025-03-07 23:01:17,320 - dark_pool_fetcher - INFO - Storing dark pool analysis for AAPL
2025-03-07 23:01:17,473 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/dark_pool_data?select=id&symbol=eq.AAPL&id=eq.AAPL-2025-03-07 "HTTP/2 200 OK"
2025-03-07 23:01:17,544 - httpx - INFO - HTTP Request: POST https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/dark_pool_data "HTTP/2 201 Created"
2025-03-07 23:01:17,545 - dark_pool_fetcher - INFO - Inserted new dark pool analysis for AAPL
2025-03-07 23:01:17,600 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/watchlists?select=id&tickers=cs.%7BAAPL%7D "HTTP/2 400 Bad Request"
2025-03-07 23:01:17,600 - dark_pool_fetcher - ERROR - Error checking if AAPL is in watchlist: {'code': '42703', 'details': None, 'hint': 'Perhaps you meant to reference the column "watchlists.ticker".', 'message': 'column watchlists.tickers does not exist'}
2025-03-07 23:01:18,102 - dark_pool_fetcher - INFO - Fetching dark pool data for MSFT
2025-03-07 23:01:18,102 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/darkpool/MSFT with params {'limit': 5}
2025-03-07 23:01:18,188 - dark_pool_fetcher - INFO - Successfully fetched 5 dark pool trades for MSFT
2025-03-07 23:01:18,188 - dark_pool_fetcher - INFO - Analyzed dark pool data for MSFT
2025-03-07 23:01:18,188 - dark_pool_fetcher - INFO - Storing dark pool analysis for MSFT
2025-03-07 23:01:18,244 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/dark_pool_data?select=id&symbol=eq.MSFT&id=eq.MSFT-2025-03-07 "HTTP/2 200 OK"
2025-03-07 23:01:18,306 - httpx - INFO - HTTP Request: POST https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/dark_pool_data "HTTP/2 201 Created"
2025-03-07 23:01:18,306 - dark_pool_fetcher - INFO - Inserted new dark pool analysis for MSFT
2025-03-07 23:01:18,368 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/watchlists?select=id&tickers=cs.%7BMSFT%7D "HTTP/2 400 Bad Request"
2025-03-07 23:01:18,368 - dark_pool_fetcher - ERROR - Error checking if MSFT is in watchlist: {'code': '42703', 'details': None, 'hint': 'Perhaps you meant to reference the column "watchlists.ticker".', 'message': 'column watchlists.tickers does not exist'}
2025-03-07 23:01:18,870 - dark_pool_fetcher - INFO - Fetching dark pool data for TSLA
2025-03-07 23:01:18,870 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/darkpool/TSLA with params {'limit': 5}
2025-03-07 23:01:18,967 - dark_pool_fetcher - INFO - Successfully fetched 5 dark pool trades for TSLA
2025-03-07 23:01:18,967 - dark_pool_fetcher - INFO - Analyzed dark pool data for TSLA
2025-03-07 23:01:18,967 - dark_pool_fetcher - INFO - Storing dark pool analysis for TSLA
2025-03-07 23:01:19,029 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/dark_pool_data?select=id&symbol=eq.TSLA&id=eq.TSLA-2025-03-07 "HTTP/2 200 OK"
2025-03-07 23:01:19,084 - httpx - INFO - HTTP Request: POST https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/dark_pool_data "HTTP/2 201 Created"
2025-03-07 23:01:19,085 - dark_pool_fetcher - INFO - Inserted new dark pool analysis for TSLA
2025-03-07 23:01:19,140 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/watchlists?select=id&tickers=cs.%7BTSLA%7D "HTTP/2 400 Bad Request"
2025-03-07 23:01:19,140 - dark_pool_fetcher - ERROR - Error checking if TSLA is in watchlist: {'code': '42703', 'details': None, 'hint': 'Perhaps you meant to reference the column "watchlists.ticker".', 'message': 'column watchlists.tickers does not exist'}
2025-03-07 23:01:19,641 - dark_pool_fetcher - INFO - Dark pool data fetcher completed successfully
2025-03-07 23:01:19,642 - test_fetchers - INFO - Dark Pool Fetcher Result: {
  "status": "success",
  "symbols_processed": 3
}
2025-03-07 23:01:22,644 - test_fetchers - INFO - Running test for options_flow
2025-03-07 23:01:22,646 - test_fetchers - INFO - === Testing Options Flow Fetcher ===
2025-03-07 23:01:22,646 - test_fetchers - INFO - Testing Options Flow fetcher with tickers: ['AAPL', 'MSFT', 'TSLA']
2025-03-07 23:01:22,647 - options_flow_fetcher - INFO - Running options flow fetcher (watchlist_only=False, days=5, limit=5)
2025-03-07 23:01:22,648 - options_flow_fetcher - INFO - Processing 3 provided tickers
2025-03-07 23:01:22,648 - options_flow_fetcher - INFO - Fetching option flow data for AAPL
2025-03-07 23:01:22,648 - options_flow_fetcher - INFO - Fetching option contracts for AAPL
2025-03-07 23:01:26,658 - options_flow_fetcher - ERROR - Error fetching option flow data for AAPL: RetryError[<Future at 0x10df1fe30 state=finished raised TypeError>]
2025-03-07 23:01:27,659 - options_flow_fetcher - INFO - Fetching option flow data for MSFT
2025-03-07 23:01:27,659 - options_flow_fetcher - INFO - Fetching option contracts for MSFT
2025-03-07 23:01:31,666 - options_flow_fetcher - ERROR - Error fetching option flow data for MSFT: RetryError[<Future at 0x10df39c50 state=finished raised TypeError>]
2025-03-07 23:01:32,667 - options_flow_fetcher - INFO - Fetching option flow data for TSLA
2025-03-07 23:01:32,668 - options_flow_fetcher - INFO - Fetching option contracts for TSLA
2025-03-07 23:01:36,670 - options_flow_fetcher - ERROR - Error fetching option flow data for TSLA: RetryError[<Future at 0x10df4ae40 state=finished raised TypeError>]
2025-03-07 23:01:37,671 - options_flow_fetcher - INFO - Completed option flow processing for 0 tickers
2025-03-07 23:01:37,672 - test_fetchers - INFO - Options Flow Fetcher Result: {
  "status": "success",
  "tickers_processed": 0,
  "total_tickers": 3
}
2025-03-07 23:01:40,673 - test_fetchers - INFO - Running test for fda_calendar
2025-03-07 23:01:40,673 - test_fetchers - INFO - === Testing FDA Calendar Fetcher ===
2025-03-07 23:01:40,673 - test_fetchers - INFO - Testing FDA Calendar fetcher for next 30 days
2025-03-07 23:01:40,673 - fda_calendar_fetcher - INFO - Running FDA calendar fetcher for the next 30 days
2025-03-07 23:01:40,673 - fda_calendar_fetcher - INFO - Fetching FDA calendar for the next 30 days
2025-03-07 23:01:41,002 - unusual_whales_api - ERROR - Failed to fetch FDA calendar: 401 Client Error: Unauthorized for url: https://api.unusualwhales.com/api/market/fda-calendar?target_date_min=2025-03-07&target_date_max=2025-04-06&limit=100
2025-03-07 23:01:41,002 - fda_calendar_fetcher - WARNING - No FDA events found in the calendar
2025-03-07 23:01:41,002 - fda_calendar_fetcher - WARNING - No FDA events to store
2025-03-07 23:01:41,003 - fda_calendar_fetcher - INFO - FDA calendar fetcher completed - Stored 0 events
2025-03-07 23:01:41,003 - test_fetchers - INFO - FDA Calendar Fetcher Result: {
  "status": "success",
  "events_stored": 0
}
2025-03-07 23:01:44,004 - test_fetchers - INFO - Running test for political_trades
2025-03-07 23:01:44,004 - test_fetchers - INFO - === Testing Political Trades Fetcher ===
2025-03-07 23:01:44,004 - test_fetchers - INFO - Testing Political Trades fetcher for past 10 days with limit 10
2025-03-07 23:01:44,004 - political_trades_fetcher - INFO - Running political trades fetcher (watchlist_only=False, days=10, limit=10)
2025-03-07 23:01:44,004 - political_trades_fetcher - INFO - Fetching political trades for the past 10 days (limit: 10)
2025-03-07 23:01:44,004 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/congress/trades with params {'days': 10, 'limit': 10}
2025-03-07 23:01:44,228 - unusual_whales_api - ERROR - Error making request to https://api.unusualwhales.com/api/congress/trades: 404 Client Error: Not Found for url: https://api.unusualwhales.com/api/congress/trades?days=10&limit=10
2025-03-07 23:01:44,231 - unusual_whales_api - ERROR - Response content: Something went wrong
2025-03-07 23:01:46,235 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/congress/trades with params {'days': 10, 'limit': 10}
2025-03-07 23:01:46,328 - unusual_whales_api - ERROR - Error making request to https://api.unusualwhales.com/api/congress/trades: 404 Client Error: Not Found for url: https://api.unusualwhales.com/api/congress/trades?days=10&limit=10
2025-03-07 23:01:46,329 - unusual_whales_api - ERROR - Response content: Something went wrong
2025-03-07 23:01:48,331 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/congress/trades with params {'days': 10, 'limit': 10}
2025-03-07 23:01:48,437 - unusual_whales_api - ERROR - Error making request to https://api.unusualwhales.com/api/congress/trades: 404 Client Error: Not Found for url: https://api.unusualwhales.com/api/congress/trades?days=10&limit=10
2025-03-07 23:01:48,438 - unusual_whales_api - ERROR - Response content: Something went wrong
2025-03-07 23:01:48,438 - unusual_whales_api - ERROR - Failed to fetch political trades: API request failed: 404 Client Error: Not Found for url: https://api.unusualwhales.com/api/congress/trades?days=10&limit=10
2025-03-07 23:01:48,438 - political_trades_fetcher - ERROR - Error fetching political trades: API request failed: 404 Client Error: Not Found for url: https://api.unusualwhales.com/api/congress/trades?days=10&limit=10
2025-03-07 23:01:48,451 - political_trades_fetcher - ERROR - Traceback (most recent call last):
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/unusual_whales_api.py", line 93, in make_request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/lib/python3.13/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.unusualwhales.com/api/congress/trades?days=10&limit=10

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/fetch_political_trades.py", line 81, in fetch_political_trades
    political_trades = get_political_trades(
        days=days,
        limit=limit
    )
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/unusual_whales_api.py", line 173, in get_political_trades
    response = make_request("congress/trades", params)
  File "/opt/homebrew/lib/python3.13/site-packages/tenacity/__init__.py", line 336, in wrapped_f
    return copy(f, *args, **kw)
  File "/opt/homebrew/lib/python3.13/site-packages/tenacity/__init__.py", line 475, in __call__
    do = self.iter(retry_state=retry_state)
  File "/opt/homebrew/lib/python3.13/site-packages/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/opt/homebrew/lib/python3.13/site-packages/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
          ~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/lib/python3.13/site-packages/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
          ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/opt/homebrew/lib/python3.13/site-packages/tenacity/__init__.py", line 478, in __call__
    result = fn(*args, **kwargs)
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/unusual_whales_api.py", line 105, in make_request
    raise UnusualWhalesError(f"API request failed: {str(e)}")
unusual_whales_api.UnusualWhalesError: API request failed: 404 Client Error: Not Found for url: https://api.unusualwhales.com/api/congress/trades?days=10&limit=10

2025-03-07 23:01:48,451 - political_trades_fetcher - WARNING - No political trades to store
2025-03-07 23:01:48,451 - political_trades_fetcher - INFO - Political trades fetcher completed - Stored 0 trades
2025-03-07 23:01:48,452 - test_fetchers - INFO - Political Trades Fetcher Result: {
  "status": "success",
  "trades_stored": 0
}
2025-03-07 23:01:51,453 - test_fetchers - INFO - Running test for economic_reports
2025-03-07 23:01:51,453 - test_fetchers - INFO - === Testing Economic Reports Fetcher ===
2025-03-07 23:01:51,453 - test_fetchers - INFO - Testing Economic Reports fetcher
2025-03-07 23:01:51,453 - economic_reports_fetcher - INFO - Running economic reports fetcher
2025-03-07 23:01:51,453 - economic_reports_fetcher - INFO - Fetching economic calendar from Unusual Whales API
2025-03-07 23:01:51,663 - unusual_whales_api - ERROR - Failed to fetch economic calendar: 401 Client Error: Unauthorized for url: https://api.unusualwhales.com/api/market/economic-calendar
2025-03-07 23:01:51,663 - economic_reports_fetcher - WARNING - No economic events found in the calendar
2025-03-07 23:01:51,663 - economic_reports_fetcher - WARNING - No economic events to store
2025-03-07 23:01:51,663 - economic_reports_fetcher - INFO - Fetching latest economic research reports
2025-03-07 23:01:51,664 - economic_reports_fetcher - INFO - Prepared 2 economic research reports for storage
2025-03-07 23:01:52,136 - economic_reports_fetcher - ERROR - Error generating report insights: 404 models/gemini-2.0 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-03-07 23:01:52,137 - economic_reports_fetcher - INFO - Storing 2 research reports
2025-03-07 23:01:52,299 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/economic_reports?select=id&id=eq.federal_reserve_20250307 "HTTP/2 404 Not Found"
2025-03-07 23:01:52,300 - economic_reports_fetcher - ERROR - Error storing research reports: {'code': '42P01', 'details': None, 'hint': None, 'message': 'relation "public.economic_reports" does not exist'}
2025-03-07 23:01:52,305 - economic_reports_fetcher - ERROR - Traceback (most recent call last):
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/fetch_economic_reports.py", line 221, in store_research_reports
    .execute()
     ~~~~~~~^^
  File "/opt/homebrew/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '42P01', 'details': None, 'hint': None, 'message': 'relation "public.economic_reports" does not exist'}

2025-03-07 23:01:52,305 - economic_reports_fetcher - INFO - Economic reports fetcher completed - Stored 0 events and 0 reports
2025-03-07 23:01:52,306 - test_fetchers - INFO - Economic Reports Fetcher Result: {
  "status": "success",
  "events_stored": 0,
  "reports_stored": 0
}
2025-03-07 23:01:55,307 - test_fetchers - INFO - Running test for stock_info
2025-03-07 23:01:55,307 - test_fetchers - INFO - === Testing Stock Info Fetcher ===
2025-03-07 23:01:55,308 - test_fetchers - INFO - Testing Stock Info fetcher with tickers: ['AAPL', 'MSFT', 'TSLA']
2025-03-07 23:01:55,308 - stock_info_fetcher - INFO - Starting stock info fetcher
2025-03-07 23:01:55,308 - stock_info_fetcher - INFO - Processing 3 tickers
2025-03-07 23:01:55,503 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/stock_info?select=%2A&ticker=eq.AAPL&fetched_at=gte.2025-03-07T07%3A01%3A55.308511 "HTTP/2 200 OK"
2025-03-07 23:01:55,504 - stock_info_fetcher - INFO - Fetching stock info for AAPL
2025-03-07 23:01:55,504 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/AAPL/info
2025-03-07 23:01:55,504 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/AAPL/info with params None
2025-03-07 23:01:56,288 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/stock_info?select=%2A&ticker=eq.TSLA&fetched_at=gte.2025-03-07T07%3A01%3A56.187872 "HTTP/2 200 OK"
2025-03-07 23:01:56,290 - stock_info_fetcher - INFO - Fetching stock info for TSLA
2025-03-07 23:01:56,290 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/TSLA/info
2025-03-07 23:01:56,290 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/TSLA/info with params None
2025-03-07 23:01:56,450 - httpx - INFO - HTTP Request: GET https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/stock_info?select=%2A&ticker=eq.MSFT&fetched_at=gte.2025-03-07T07%3A01%3A56.383791 "HTTP/2 200 OK"
2025-03-07 23:01:56,451 - stock_info_fetcher - INFO - Fetching stock info for MSFT
2025-03-07 23:01:56,451 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/MSFT/info
2025-03-07 23:01:56,451 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/MSFT/info with params None
2025-03-07 23:01:56,530 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/AAPL/stock-state with params None
2025-03-07 23:01:56,819 - httpx - INFO - HTTP Request: POST https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/stock_info "HTTP/2 400 Bad Request"
2025-03-07 23:01:56,821 - stock_info_fetcher - ERROR - Error processing ticker AAPL: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'announce_time' column of 'stock_info' in the schema cache"}
2025-03-07 23:01:56,824 - stock_info_fetcher - ERROR - Traceback (most recent call last):
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/fetch_stock_info.py", line 179, in process_ticker
    response = supabase.table(STOCK_INFO_TABLE).upsert(formatted_info).execute()
  File "/opt/homebrew/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'announce_time' column of 'stock_info' in the schema cache"}

2025-03-07 23:01:56,885 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/TSLA/stock-state with params None
2025-03-07 23:01:57,257 - httpx - INFO - HTTP Request: POST https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/stock_info "HTTP/2 400 Bad Request"
2025-03-07 23:01:57,258 - stock_info_fetcher - ERROR - Error processing ticker TSLA: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'announce_time' column of 'stock_info' in the schema cache"}
2025-03-07 23:01:57,258 - stock_info_fetcher - ERROR - Traceback (most recent call last):
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/fetch_stock_info.py", line 179, in process_ticker
    response = supabase.table(STOCK_INFO_TABLE).upsert(formatted_info).execute()
  File "/opt/homebrew/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'announce_time' column of 'stock_info' in the schema cache"}

2025-03-07 23:01:57,258 - unusual_whales_api - INFO - Making request to https://api.unusualwhales.com/api/stock/MSFT/stock-state with params None
2025-03-07 23:01:57,412 - httpx - INFO - HTTP Request: POST https://xtvfaileukqrdnnfghui.supabase.co/rest/v1/stock_info "HTTP/2 400 Bad Request"
2025-03-07 23:01:57,413 - stock_info_fetcher - ERROR - Error processing ticker MSFT: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'announce_time' column of 'stock_info' in the schema cache"}
2025-03-07 23:01:57,413 - stock_info_fetcher - ERROR - Traceback (most recent call last):
  File "/Users/blakesingleton/Desktop/Stock From Scratch/python/fetch_stock_info.py", line 179, in process_ticker
    response = supabase.table(STOCK_INFO_TABLE).upsert(formatted_info).execute()
  File "/opt/homebrew/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'announce_time' column of 'stock_info' in the schema cache"}

2025-03-07 23:01:57,414 - stock_info_fetcher - INFO - Stock info fetcher completed - Processed 0 tickers successfully, 3 failures
2025-03-07 23:01:57,414 - test_fetchers - INFO - Stock Info Fetcher Result: {
  "status": "success",
  "tickers_processed": 0,
  "tickers_failed": 3
}
2025-03-07 23:02:00,415 - test_fetchers - INFO - ===== TEST RESULTS SUMMARY =====
2025-03-07 23:02:00,415 - test_fetchers - INFO - dark_pool: PASSED
2025-03-07 23:02:00,415 - test_fetchers - INFO - options_flow: PASSED
2025-03-07 23:02:00,415 - test_fetchers - INFO - fda_calendar: PASSED
2025-03-07 23:02:00,415 - test_fetchers - INFO - political_trades: PASSED
2025-03-07 23:02:00,415 - test_fetchers - INFO - economic_reports: PASSED
2025-03-07 23:02:00,415 - test_fetchers - INFO - stock_info: PASSED
2025-03-07 23:02:00,415 - test_fetchers - INFO - Total execution time: 43.27 seconds
